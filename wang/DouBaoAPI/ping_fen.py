import  wang.DouBaoAPI.API as wang1


def test_批阅代码小程序(题目, 分值, 学生答卷):
    if 学生答卷 == "":
        学生答卷 = "空"
    question = f'''
    你是一位阅卷老师，请根据以下题目和学生的答案进行评分。评分标准如下：
    1. 如果学生基本实现了题目要求的功能，并且程序能够正常运行(如果是代码)，即使存在小问题也可以给满分。
    2. 小缺陷或细节问题给出改进建议即可。
    3. **评分不得超过题目所列的总分值，任何情况下都不能溢出。**

    请严格遵循以下格式回复：
    分数（数字）|评语（例如：`10|还存在几个问题,具体如下...`）。
    注意：分数必须小于或等于总分值。

    题目: {题目}
    总分值: {分值}
    学生答案: {学生答卷}
    '''

    answer = wang1.get_answer(question)
    得分 = answer.split("|")[0]
    评语 = answer.split("|")[1]
    return 得分, 评语,answer



